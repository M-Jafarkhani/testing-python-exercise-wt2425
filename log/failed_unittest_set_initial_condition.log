(.venv) (base) mahdi@s-8d3a265e testing-python-exercise-wt2425 % pytest -s
============================ test session starts =============================
platform darwin -- Python 3.12.4, pytest-7.4.4, pluggy-1.0.0
rootdir: /Users/mahdi/Documents/SSE Exercises/testing-python-exercise-wt2425
plugins: anyio-4.2.0
collected 8 items                                                            

tests/integration/test_diffusion2d.py ..
tests/unit/test_diffusion2d_functions.py .dt = 0.0005000000000000001
.F.dt = 0.0005000000000000001
.F

================================== FAILURES ==================================
_________________________ test_set_initial_condition _________________________

    def test_set_initial_condition():
        """
        Checks function SolveDiffusion2D.get_initial_function
        """
        solver = SolveDiffusion2D()
    
        solver.T_cold = 20.
        solver.nx = 5
        solver.ny = 5
        solver.dx = 0.5
        solver.dy = 0.5
    
        _output = solver.set_initial_condition()
        _expected = solver.T_cold * np.ones((solver.nx, solver.ny))
    
>       assert np.equal(_output, _expected).all()
E       AssertionError: assert False
E        +  where False = <built-in method all of numpy.ndarray object at 0x11ab304b0>()
E        +    where <built-in method all of numpy.ndarray object at 0x11ab304b0> = array([[ True,  True,  True,  True,  True],\n       [ True,  True,  True,  True, False],\n       [ True,  True,  True, False, False],\n       [ True,  True, False, False, False],\n       [ True, False, False, False, False]]).all
E        +      where array([[ True,  True,  True,  True,  True],\n       [ True,  True,  True,  True, False],\n       [ True,  True,  True, False, False],\n       [ True,  True, False, False, False],\n       [ True, False, False, False, False]]) = <ufunc 'equal'>(array([[20., 20., 20., 20., 20.],\n       [20., 20., 20., 20., nan],\n       [20., 20., 20., nan, nan],\n       [20., 20., nan, nan, nan],\n       [20., nan, nan, nan, nan]]), array([[20., 20., 20., 20., 20.],\n       [20., 20., 20., 20., 20.],\n       [20., 20., 20., 20., 20.],\n       [20., 20., 20., 20., 20.],\n       [20., 20., 20., 20., 20.]]))
E        +        where <ufunc 'equal'> = np.equal

tests/unit/test_diffusion2d_functions.py:60: AssertionError
_________________ TestDiffusion2D.test_set_initial_condition _________________

self = <tests.unit.test_diffusion2d_functions.TestDiffusion2D testMethod=test_set_initial_condition>

    def test_set_initial_condition(self):
        """
        Checks function SolveDiffusion2D.get_initial_function
        """
        solver = SolveDiffusion2D()
    
        solver.T_cold = 20.
        solver.nx = 5
        solver.ny = 5
        solver.dx = 0.5
        solver.dy = 0.5
    
        _output = solver.set_initial_condition()
        _expected = solver.T_cold * np.ones((solver.nx, solver.ny))
    
>       self.assertEqual(np.equal(_output, _expected).all(),True,msg='Initial condition not working')
E       AssertionError: False != True : Initial condition not working

tests/unit/test_diffusion2d_functions.py:111: AssertionError
========================== short test summary info ===========================
FAILED tests/unit/test_diffusion2d_functions.py::test_set_initial_condition - AssertionError: assert False
FAILED tests/unit/test_diffusion2d_functions.py::TestDiffusion2D::test_set_initial_condition - AssertionError: False != True : Initial condition not working
======================== 2 failed, 6 passed in 0.32s =========================
(.venv) (base) mahdi@s-8d3a265e testing-python-exercise-wt2425 % 